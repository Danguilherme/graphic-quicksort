"use strict";function quicksort(a){if(0==a.length)return[];for(var b=[],c=[],d=a[0],e=1;e<a.length;e++)a[e]<d?b.push(a[e]):c.push(a[e]);return quicksort(b).concat(d,quicksort(c))}function Node(a){this.collection=a,this.left=[],this.right=[],this.pivot=null}function Path(a,b,c,d){if(this.right=null,this.rightArr=[],this.left=null,this.leftArr=null,this.result=[],a){if(a instanceof Path)this.right=left.right,this.left=left.left,this.result=left.result;else switch(a.toLowerCase()){case"left":this.left=c,this.leftArr=b;break;case"right":this.right=c,this.rightArr=b}d&&(this.result=d)}}function quicksortMetadata2(a,b){if(console.log("quicksort",a),b=b||new Path,0==a.length)return[];for(var c=[],d=[],e=a[0],f=1;f<a.length;f++)a[f]<e?c.push(a[f]):d.push(a[f]);return console.group("quicksort"),console.log("left",c),console.log("right",d),console.groupEnd(),b.result=quicksort(c).concat(e,quicksort(d)),b.left=new Path("left",c,quicksortMetadata(c)),b.right=new Path("right",d,quicksortMetadata(d)),b}function quicksortMetadata(a,b){if(0==a.length)return[];var c=[],d=[],e=a[0];b=b||new Node(a),b.pivot=e;for(var f=1;f<a.length;f++)a[f]<e?c.push(a[f]):d.push(a[f]);return b.left=quicksortMetadata(c),b.right=quicksortMetadata(d),b}console.log("'Allo 'Allo!"),$(function(){function a(a){function b(a){return a&&a.collection&&a.collection.length>0?'<span class="collection">'+a.collection+"</span>":""}function c(a){a.datum()instanceof Array||(a.selectAll("div.node.left").data([a.datum().left]).enter().append("div").attr("class","node").attr("class","left").style("left",function(a){return a.collection?a.collection[0]:0}).html(b).each(function(){c(d3.select(this))}),a.selectAll("div.node.right").data([a.datum().right]).enter().append("div").attr("class","node").attr("class","right").html(b).each(function(){c(d3.select(this))}))}console.log("Drawing quicksort for collection",a);var d=quicksortMetadata(a),e=quicksort(a);console.log("quicksort",e),console.log("metadata",d);var f=d3.select("#drawing-root").selectAll("div.root").data([d]).enter().append("div").attr("class","root").html(b);c(f),f.append("span").attr("class","collection-result").text(e.toString())}$("#collection-input").change(function(){a($(this).val())})});